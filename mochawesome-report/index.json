{
  "stats": {
    "suites": 7,
    "tests": 38,
    "passes": 35,
    "pending": 0,
    "failures": 3,
    "start": "2025-11-05T23:23:06.703Z",
    "end": "2025-11-05T23:23:06.975Z",
    "duration": 272,
    "testsRegistered": 38,
    "passPercent": 92.10526315789474,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "96b11e29-7ebd-4837-a863-baf96dc94da2",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
          "title": "POST /api/destinations",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/createDestination.test.js",
          "file": "/test/tests/createDestination.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"POST /api/destinations\"",
              "fullTitle": "POST /api/destinations \"before all\" hook in \"POST /api/destinations\"",
              "timedOut": false,
              "duration": 69,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário existe e obtém token\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(postLogin);\ntoken = await obterToken(postLogin.username, postLogin.password);",
              "err": {},
              "uuid": "76497eb0-8f12-488c-a2ed-e4282a28e5e0",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "16 - Registrar informações de um novo destino com dados válidos",
              "fullTitle": "POST /api/destinations 16 - Registrar informações de um novo destino com dados válidos",
              "timedOut": false,
              "duration": 3,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(postDest);\nexpect(response.status).to.equal(201);\nexpect(response.body).to.have.property(\"id\");\nexpect(response.body).to.have.property(\"name\", postDest.name);\nexpect(response.body).to.have.property(\"status\", postDest.status);",
              "err": {},
              "uuid": "c3f54cd0-d97d-4469-8087-48206c8683a5",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "17 - Registrar informações de um novo destino apenas com dados obrigatórios",
              "fullTitle": "POST /api/destinations 17 - Registrar informações de um novo destino apenas com dados obrigatórios",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const minimal = { name: \"Rio de Janeiro\", status: \"wishlist\" };\nconst response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(minimal);\nexpect(response.status).to.equal(201);\nexpect(response.body).to.have.property(\"id\");\nexpect(response.body).to.have.property(\"name\", minimal.name);\nexpect(response.body).to.have.property(\"status\", minimal.status);",
              "err": {},
              "uuid": "cda46228-c8e3-4f5d-ab7b-d6bd1ff861ec",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "18 - Registrar informações sem o dado obrigatório nome",
              "fullTitle": "POST /api/destinations 18 - Registrar informações sem o dado obrigatório nome",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const { status, details, date } = postDest;\nconst response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ status, details, date });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "fba0a501-6c56-48d4-9d83-d0a8bf1c5b24",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "19 - Registrar informações sem o dado obrigatório status",
              "fullTitle": "POST /api/destinations 19 - Registrar informações sem o dado obrigatório status",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const { name, details, date } = postDest;\nconst response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ name, details, date });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "63c1ece0-9a1b-46c1-a949-6bd5552b6f37",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "20 - Registrar informações com dado obrigatório nome inválido",
              "fullTitle": "POST /api/destinations 20 - Registrar informações com dado obrigatório nome inválido",
              "timedOut": false,
              "duration": 5,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ ...postDest, name: \"\" });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "e799ede4-342e-4080-bc15-9161e506ad65",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "21 - Registrar informações com dado obrigatório status inválido",
              "fullTitle": "POST /api/destinations 21 - Registrar informações com dado obrigatório status inválido",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ ...postDest, status: \"\" });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "ead87fe3-b2bd-4627-a855-a4b5892496d8",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "22 - Registrar informações de um novo destino sem autenticação válida",
              "fullTitle": "POST /api/destinations 22 - Registrar informações de um novo destino sem autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenVazio = \"\"\nconst response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenVazio}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(postDest);\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "25ae1b38-3359-408d-b31b-35e61e0fc822",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "23 - Registrar informações de um novo destino com autenticação inválida",
              "fullTitle": "POST /api/destinations 23 - Registrar informações de um novo destino com autenticação inválida",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenInvalido = \"token_invalido\";\nconst response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenInvalido}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(postDest);\nexpect([401, 403]).to.include(response.status);",
              "err": {},
              "uuid": "9e01d08e-5a4c-4511-9e4e-2cd9fc7c9459",
              "parentUUID": "202a7c99-1a71-4a71-87b8-518d246e5eb6",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "c3f54cd0-d97d-4469-8087-48206c8683a5",
            "cda46228-c8e3-4f5d-ab7b-d6bd1ff861ec",
            "fba0a501-6c56-48d4-9d83-d0a8bf1c5b24",
            "63c1ece0-9a1b-46c1-a949-6bd5552b6f37",
            "e799ede4-342e-4080-bc15-9161e506ad65",
            "ead87fe3-b2bd-4627-a855-a4b5892496d8",
            "25ae1b38-3359-408d-b31b-35e61e0fc822",
            "9e01d08e-5a4c-4511-9e4e-2cd9fc7c9459"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 18,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "718bca5c-c2cd-4a51-855b-ee2f166dbcd6",
          "title": "GET /api/destinations",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/getDestinations.test.js",
          "file": "/test/tests/getDestinations.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"GET /api/destinations\"",
              "fullTitle": "GET /api/destinations \"before all\" hook in \"GET /api/destinations\"",
              "timedOut": false,
              "duration": 19,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário existe e obtém token\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(postLogin);\ntoken = await obterToken(postLogin.username, postLogin.password);\n// Cria pelo menos um destino usando o helper\nawait createDestination(token, postDest);",
              "err": {},
              "uuid": "f15cd020-bfc1-43e1-8095-cb136d04c7da",
              "parentUUID": "718bca5c-c2cd-4a51-855b-ee2f166dbcd6",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "24 - Acessar lista de destinos do usuário com autenticação válida",
              "fullTitle": "GET /api/destinations 24 - Acessar lista de destinos do usuário com autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.be.an(\"array\");\nexpect(response.body.length).to.be.greaterThan(0);\nexpect(response.body[0]).to.have.property(\"name\");\nexpect(response.body[0]).to.have.property(\"status\");",
              "err": {},
              "uuid": "199b4345-940b-491c-b30c-f67d1bcbae03",
              "parentUUID": "718bca5c-c2cd-4a51-855b-ee2f166dbcd6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "25 - Acessar lista de destinos do usuário sem autenticação válida",
              "fullTitle": "GET /api/destinations 25 - Acessar lista de destinos do usuário sem autenticação válida",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenVazio = \"\";\nconst response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenVazio}`);\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "ba44cc51-717e-4dad-b034-24e25950c65b",
              "parentUUID": "718bca5c-c2cd-4a51-855b-ee2f166dbcd6",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "26 - Acessar lista de destinos do usuário com autenticação inválida",
              "fullTitle": "GET /api/destinations 26 - Acessar lista de destinos do usuário com autenticação inválida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenInvalido = \"token_invalido\";\nconst response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenInvalido}`);\nexpect(response.status).to.equal(403);",
              "err": {},
              "uuid": "09a6552d-2cd2-4e41-9f9b-857609bd0460",
              "parentUUID": "718bca5c-c2cd-4a51-855b-ee2f166dbcd6",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "199b4345-940b-491c-b30c-f67d1bcbae03",
            "ba44cc51-717e-4dad-b034-24e25950c65b",
            "09a6552d-2cd2-4e41-9f9b-857609bd0460"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 2,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "e3deba16-58d8-429b-9a49-9756f7db19ca",
          "title": "GET /api/destinations/{id}",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/getSingleDestination.test.js",
          "file": "/test/tests/getSingleDestination.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"GET /api/destinations/{id}\"",
              "fullTitle": "GET /api/destinations/{id} \"before all\" hook in \"GET /api/destinations/{id}\"",
              "timedOut": false,
              "duration": 19,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário existe e obtém token\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(postLogin);\ntoken = await obterToken(postLogin.username, postLogin.password);\n// Cria um destino para os testes\ncreatedDestination = await createDestination(token, postDest);",
              "err": {},
              "uuid": "da953ff3-f32c-434c-8a09-3579db83d7a8",
              "parentUUID": "e3deba16-58d8-429b-9a49-9756f7db19ca",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "27 - Acessar informação de destino específico com autenticação válida",
              "fullTitle": "GET /api/destinations/{id} 27 - Acessar informação de destino específico com autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .get(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"id\", createdDestination.id);\nexpect(response.body).to.have.property(\"name\", postDest.name);\nexpect(response.body).to.have.property(\"status\", postDest.status);",
              "err": {},
              "uuid": "dab6024b-cc9f-4124-9919-7ecf92e54865",
              "parentUUID": "e3deba16-58d8-429b-9a49-9756f7db19ca",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "28 - Acessar destino inexistente com autenticação válida",
              "fullTitle": "GET /api/destinations/{id} 28 - Acessar destino inexistente com autenticação válida",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .get(`${endpoint}/id_inexistente`)\n  .set(\"Authorization\", `Bearer ${token}`);\nexpect(response.status).to.equal(404);",
              "err": {},
              "uuid": "1258ee4a-22c3-4f31-bce3-4022e6f9ee2f",
              "parentUUID": "e3deba16-58d8-429b-9a49-9756f7db19ca",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "29 - Acessar destino com autenticação ausente",
              "fullTitle": "GET /api/destinations/{id} 29 - Acessar destino com autenticação ausente",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenVazio = \"\";\nconst response = await request(baseUrl)\n  .get(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${tokenVazio}`);\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "05d4abd5-6b32-4329-b125-c2757c14a3c3",
              "parentUUID": "e3deba16-58d8-429b-9a49-9756f7db19ca",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "30 - Acessar destino com autenticação inválida",
              "fullTitle": "GET /api/destinations/{id} 30 - Acessar destino com autenticação inválida",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenInvalido = \"token_invalido\";\nconst response = await request(baseUrl)\n  .get(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${tokenInvalido}`);\nexpect(response.status).to.equal(403);",
              "err": {},
              "uuid": "274e5421-a199-4e9c-97bf-29f6b996fbeb",
              "parentUUID": "e3deba16-58d8-429b-9a49-9756f7db19ca",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "dab6024b-cc9f-4124-9919-7ecf92e54865",
            "1258ee4a-22c3-4f31-bce3-4022e6f9ee2f",
            "05d4abd5-6b32-4329-b125-c2757c14a3c3",
            "274e5421-a199-4e9c-97bf-29f6b996fbeb"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 2,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
          "title": "POST /api/users/login",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/login.test.js",
          "file": "/test/tests/login.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"POST /api/users/login\"",
              "fullTitle": "POST /api/users/login \"before all\" hook in \"POST /api/users/login\"",
              "timedOut": false,
              "duration": 1,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário válido existe\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(validUser);",
              "err": {},
              "uuid": "695eca35-16b7-4fa7-92b6-ed5dc9f5911f",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "07 - Fazer login de usuário com credenciais válidas",
              "fullTitle": "POST /api/users/login 07 - Fazer login de usuário com credenciais válidas",
              "timedOut": false,
              "duration": 18,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send(validUser);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"token\");\nexpect(response.body.token).to.be.a(\"string\");",
              "err": {},
              "uuid": "49b3eae9-245b-4d30-82e7-665d885f8358",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "08 - Fazer login de usuário com nome inválido",
              "fullTitle": "POST /api/users/login 08 - Fazer login de usuário com nome inválido",
              "timedOut": false,
              "duration": 19,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: 123456, password: validUser.password });\nexpect(response.status).to.equal(401);",
              "err": {
                "message": "AssertionError: expected 200 to equal 401",
                "estack": "AssertionError: expected 200 to equal 401\n    at Context.<anonymous> (test/tests/login.test.js:34:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                "diff": "- 200\n+ 401\n"
              },
              "uuid": "df33c6aa-46ac-4fe4-a92f-985c8332e97f",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "09 - Fazer login de usuário com senha inválida",
              "fullTitle": "POST /api/users/login 09 - Fazer login de usuário com senha inválida",
              "timedOut": false,
              "duration": 17,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: validUser.username, password: \"123\" });\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "cf47d0ee-2a4b-4ad2-bdc3-1a79b38ab1d0",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "10 - Fazer login de usuário com nome ausente",
              "fullTitle": "POST /api/users/login 10 - Fazer login de usuário com nome ausente",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: \"\", password: validUser.password });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "ae2c10a7-c6a4-4aaa-834b-8e8ef4d990eb",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "11 - Fazer login de usuário com senha ausente",
              "fullTitle": "POST /api/users/login 11 - Fazer login de usuário com senha ausente",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: validUser.username, password: \"\" });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "bc63bf71-0ba8-4541-a897-3b1d249a5b5e",
              "parentUUID": "cbd9b560-a8b3-41d3-9ae9-8530618dc8d3",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "49b3eae9-245b-4d30-82e7-665d885f8358",
            "cf47d0ee-2a4b-4ad2-bdc3-1a79b38ab1d0",
            "ae2c10a7-c6a4-4aaa-834b-8e8ef4d990eb",
            "bc63bf71-0ba8-4541-a897-3b1d249a5b5e"
          ],
          "failures": [
            "df33c6aa-46ac-4fe4-a92f-985c8332e97f"
          ],
          "pending": [],
          "skipped": [],
          "duration": 57,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "66568414-4284-41dc-9f38-99b6e76adfed",
          "title": "POST /api/users/register",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/register.test.js",
          "file": "/test/tests/register.test.js",
          "beforeHooks": [
            {
              "title": "\"before each\" hook in \"POST /api/users/register\"",
              "fullTitle": "POST /api/users/register \"before each\" hook in \"POST /api/users/register\"",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "validUser = { ...postLogin, username: generateUniqueUsername() };",
              "err": {},
              "uuid": "8dcf50c2-7157-4b8c-9f05-4143167d5b3c",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "01 - Registrar novo usuário com dados válidos",
              "fullTitle": "POST /api/users/register 01 - Registrar novo usuário com dados válidos",
              "timedOut": false,
              "duration": 19,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send(validUser);\nexpect(response.status).to.equal(201);\nexpect(response.body).to.have.property(\"id\");\nexpect(response.body).to.have.property(\"username\", validUser.username);",
              "err": {},
              "uuid": "a01cb395-c42f-43bf-8dd0-b720f097c918",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "02 - Registrar novo usuário com username inválido",
              "fullTitle": "POST /api/users/register 02 - Registrar novo usuário com username inválido",
              "timedOut": false,
              "duration": 1,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: 123456, password: validUser.password });\nexpect(response.status).to.equal(400);",
              "err": {
                "message": "AssertionError: expected 409 to equal 400",
                "estack": "AssertionError: expected 409 to equal 400\n    at Context.<anonymous> (test/tests/register.test.js:37:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                "diff": "- 409\n+ 400\n"
              },
              "uuid": "ff683eac-5bb0-4c69-a724-60b09d1e5a34",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "03 - Registrar novo usuário com senha inválida",
              "fullTitle": "POST /api/users/register 03 - Registrar novo usuário com senha inválida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: validUser.username, password: \"123\" });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "6160f9de-c565-4bfc-b613-d85eb99f2df1",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "04 - Registrar novo usuário com username ausente",
              "fullTitle": "POST /api/users/register 04 - Registrar novo usuário com username ausente",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: \"\", password: validUser.password });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "73bf7223-20d9-49b5-a11d-663378d90362",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "05 - Registrar novo usuário com senha ausente",
              "fullTitle": "POST /api/users/register 05 - Registrar novo usuário com senha ausente",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: validUser.username, password: \"\" });\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "802268a1-2f55-43aa-9fdc-4481e5622a37",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "06 - Registrar novo usuário já existente",
              "fullTitle": "POST /api/users/register 06 - Registrar novo usuário já existente",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .post(endpoint)\n  .set(\"Content-Type\", \"application/json\")\n  .send({ username: \"celia.bruno\" , password: \"123456\" });\nexpect(response.status).to.equal(409);",
              "err": {},
              "uuid": "d468659a-1901-4bec-976b-a7cfd5c8f862",
              "parentUUID": "66568414-4284-41dc-9f38-99b6e76adfed",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "a01cb395-c42f-43bf-8dd0-b720f097c918",
            "6160f9de-c565-4bfc-b613-d85eb99f2df1",
            "73bf7223-20d9-49b5-a11d-663378d90362",
            "802268a1-2f55-43aa-9fdc-4481e5622a37",
            "d468659a-1901-4bec-976b-a7cfd5c8f862"
          ],
          "failures": [
            "ff683eac-5bb0-4c69-a724-60b09d1e5a34"
          ],
          "pending": [],
          "skipped": [],
          "duration": 22,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "6b747774-d535-403f-8d82-9aefb5307e9f",
          "title": "PUT /api/destinations/{id}",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/updateDestination.test.js",
          "file": "/test/tests/updateDestination.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"PUT /api/destinations/{id}\"",
              "fullTitle": "PUT /api/destinations/{id} \"before all\" hook in \"PUT /api/destinations/{id}\"",
              "timedOut": false,
              "duration": 21,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário existe e obtém token\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(postLogin);\ntoken = await obterToken(postLogin.username, postLogin.password);\n// Cria um destino para os testes\ncreatedDestination = await createDestination(token, postDest);",
              "err": {},
              "uuid": "a76e735a-d158-48cd-a6b0-be5f8bec0f02",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "31 - Atualizar nome do destino com autenticação válida",
              "fullTitle": "PUT /api/destinations/{id} 31 - Atualizar nome do destino com autenticação válida",
              "timedOut": false,
              "duration": 4,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, name: \"São Paulo\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"name\", updated.name);",
              "err": {},
              "uuid": "e723d4ee-88fe-4451-8a0b-8e806cc761ec",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "32 - Atualizar status do destino com autenticação válida",
              "fullTitle": "PUT /api/destinations/{id} 32 - Atualizar status do destino com autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, status: \"planning\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"status\", updated.status);",
              "err": {},
              "uuid": "d4ed97e2-5293-4159-a790-20fe915fa3bd",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "33 - Atualizar detalhes do destino com autenticação válida",
              "fullTitle": "PUT /api/destinations/{id} 33 - Atualizar detalhes do destino com autenticação válida",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, details: \"Visitar Cristo\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"details\", updated.details);",
              "err": {},
              "uuid": "f5015500-3dbb-4bdc-accb-0558ec8eb2b8",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "34 - Atualizar data do destino com autenticação válida",
              "fullTitle": "PUT /api/destinations/{id} 34 - Atualizar data do destino com autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, date: \"2025-12-24\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"date\", updated.date);",
              "err": {},
              "uuid": "5b538f07-3b86-4ca0-a63e-40f03ff3371d",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "35 - Atualizar status com dado inválido",
              "fullTitle": "PUT /api/destinations/{id} 35 - Atualizar status com dado inválido",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, status: \"invalid_status\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(400);",
              "err": {},
              "uuid": "1ee577a6-8b59-45c1-b843-ad8c53fd3ac4",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "36 - Atualizar destino inexistente",
              "fullTitle": "PUT /api/destinations/{id} 36 - Atualizar destino inexistente",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const updated = { ...postDest, name: \"Destino Inexistente\" };\nconst nonexistentId = \"nonexistent\";\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${nonexistentId}`)\n  .set(\"Authorization\", `Bearer ${token}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(404);",
              "err": {},
              "uuid": "b482751f-6967-4643-a768-3a233983a527",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "37 - Atualizar destino sem autenticação válida",
              "fullTitle": "PUT /api/destinations/{id} 37 - Atualizar destino sem autenticação válida",
              "timedOut": false,
              "duration": 0,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenVazio = \"\";\nconst updated = { ...postDest, name: \"Sem Autenticação\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${tokenVazio}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "9341a1a4-6caa-4f8d-9131-7ce0d85e7f6c",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "38 - Atualizar destino com autenticação inválida",
              "fullTitle": "PUT /api/destinations/{id} 38 - Atualizar destino com autenticação inválida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenInvalido = \"token_invalido\";\nconst updated = { ...postDest, name: \"Token Inválido\" };\nconst response = await request(baseUrl)\n  .put(`${endpoint}/${createdDestination.id}`)\n  .set(\"Authorization\", `Bearer ${tokenInvalido}`)\n  .set(\"Content-Type\", \"application/json\")\n  .send(updated);\nexpect(response.status).to.equal(403);",
              "err": {},
              "uuid": "5eec3fed-f635-4eda-882d-0a5a20b159a9",
              "parentUUID": "6b747774-d535-403f-8d82-9aefb5307e9f",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "e723d4ee-88fe-4451-8a0b-8e806cc761ec",
            "d4ed97e2-5293-4159-a790-20fe915fa3bd",
            "f5015500-3dbb-4bdc-accb-0558ec8eb2b8",
            "5b538f07-3b86-4ca0-a63e-40f03ff3371d",
            "1ee577a6-8b59-45c1-b843-ad8c53fd3ac4",
            "b482751f-6967-4643-a768-3a233983a527",
            "9341a1a4-6caa-4f8d-9131-7ce0d85e7f6c",
            "5eec3fed-f635-4eda-882d-0a5a20b159a9"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 10,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "aaa9075a-2608-4575-82d1-14c659afd101",
          "title": "GET /api/users/user",
          "fullFile": "/Users/celiapaiva/M2.0/travel-manager-api/test/tests/user.test.js",
          "file": "/test/tests/user.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"GET /api/users/user\"",
              "fullTitle": "GET /api/users/user \"before all\" hook in \"GET /api/users/user\"",
              "timedOut": false,
              "duration": 18,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Garante que o usuário existe antes dos testes\nawait request(baseUrl)\n  .post(\"/api/users/register\")\n  .set(\"Content-Type\", \"application/json\")\n  .send(validUser);\ntoken = await obterToken(validUser.username, validUser.password);",
              "err": {},
              "uuid": "ffd492fe-2840-4839-b52c-75d812b3c357",
              "parentUUID": "aaa9075a-2608-4575-82d1-14c659afd101",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "12 - Acessar informações do usuário com autenticação válida",
              "fullTitle": "GET /api/users/user 12 - Acessar informações do usuário com autenticação válida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${token}`);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(\"id\");\nexpect(response.body).to.have.property(\"username\", validUser.username);",
              "err": {},
              "uuid": "c75afe03-13e2-4310-90ad-59b45ede5c76",
              "parentUUID": "aaa9075a-2608-4575-82d1-14c659afd101",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "13 - Acessar informações do usuário com autenticação ausente",
              "fullTitle": "GET /api/users/user 13 - Acessar informações do usuário com autenticação ausente",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenVazio = \"\";\nconst response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenVazio}`);\nexpect(response.status).to.equal(401);",
              "err": {},
              "uuid": "e68b8834-72a7-4476-96ec-09fba1476211",
              "parentUUID": "aaa9075a-2608-4575-82d1-14c659afd101",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "14 - Acessar informações do usuário com autenticação inválida",
              "fullTitle": "GET /api/users/user 14 - Acessar informações do usuário com autenticação inválida",
              "timedOut": false,
              "duration": 1,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const tokenInvalido = \"token_invalido\";\nconst response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenInvalido}`);\nexpect(response.status).to.equal(403);",
              "err": {},
              "uuid": "49284936-2e0b-4c18-b391-d9e1bd261804",
              "parentUUID": "aaa9075a-2608-4575-82d1-14c659afd101",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "15 - Acessar informações de usuário com token expirado",
              "fullTitle": "GET /api/users/user 15 - Acessar informações de usuário com token expirado",
              "timedOut": false,
              "duration": 0,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "const tokenExpirado = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJ1c2VybmFtZSI6ImNlbGlhLmJydW5vIiwiaWF0IjoxNzYyMzc4MTIwLCJleHAiOjE3NjIzODE3MjB9.pwb5j4At1iXHLc9hrEDyLtecdknL4_3P6xrpfTlvev4\";\nconst response = await request(baseUrl)\n  .get(endpoint)\n  .set(\"Authorization\", `Bearer ${tokenExpirado}`);\n  expect(response.status).to.equal(404);",
              "err": {
                "message": "AssertionError: expected 403 to equal 404",
                "estack": "AssertionError: expected 403 to equal 404\n    at Context.<anonymous> (test/tests/user.test.js:52:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
                "diff": "- 403\n+ 404\n"
              },
              "uuid": "f214ed7c-e133-41e4-98bd-94c677d1863a",
              "parentUUID": "aaa9075a-2608-4575-82d1-14c659afd101",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "c75afe03-13e2-4310-90ad-59b45ede5c76",
            "e68b8834-72a7-4476-96ec-09fba1476211",
            "49284936-2e0b-4c18-b391-d9e1bd261804"
          ],
          "failures": [
            "f214ed7c-e133-41e4-98bd-94c677d1863a"
          ],
          "pending": [],
          "skipped": [],
          "duration": 3,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.5"
    },
    "mochawesome": {
      "options": {
        "quiet": true,
        "reportFilename": "index",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "mochawesome-report",
        "reportFilename": "index",
        "quiet": "true"
      },
      "version": "6.3.2"
    }
  }
}